@{
    Layout = "_Layout";
    ViewData["Title"] = "Liên hệ";
}

<div class="container py-5">
    <!-- Header / Banner -->
    <div class="text-center mb-5">
        <h1 class="fw-bold text-primary">Liên hệ với chúng tôi</h1>
        <p class="text-muted">Chúng tôi luôn sẵn sàng hỗ trợ bạn về mọi vấn đề liên quan đến sách và đơn hàng.</p>
    </div>

    <div class="row gx-4 gy-4">
        <!-- Left: Contact Info -->
        <div class="col-lg-4">
            <div class="card shadow-sm p-4 h-100">
                <h5 class="fw-bold mb-4">Thông tin liên hệ</h5>
                <p><i class="bi bi-telephone me-2 text-primary"></i> Hotline: <a href="tel:0123456789">0123 456 789</a></p>
                <p><i class="bi bi-envelope me-2 text-primary"></i> Email: <a href="mailto:support@bookshop.com">support@bookshop.com</a></p>
                <p><i class="bi bi-geo-alt me-2 text-primary"></i> Địa chỉ: 123 Đường ABC, TP.HCM</p>
                <hr>
                <h6 class="fw-bold">Thời gian làm việc</h6>
                <p>Thứ 2 - Thứ 7: 8:00 - 18:00</p>
                <p>Chủ nhật: Nghỉ</p>
            </div>
        </div>

        <!-- Right: Contact Form -->
        <div class="col-lg-8">
            <div class="card shadow-sm p-4">
                <h5 class="fw-bold mb-4">Gửi tin nhắn cho chúng tôi</h5>
                <form id="contactForm">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="name" class="form-label fw-semibold">Họ và tên</label>
                            <input type="text" class="form-control" id="name" placeholder="Nhập họ và tên" required>
                        </div>
                        <div class="col-md-6">
                            <label for="email" class="form-label fw-semibold">Email</label>
                            <input type="email" class="form-control" id="email" placeholder="Nhập email" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label fw-semibold">Số điện thoại</label>
                        <input type="text" class="form-control" id="phone" placeholder="Nhập số điện thoại" required>
                    </div>
                    <div class="mb-3">
                        <label for="message" class="form-label fw-semibold">Tin nhắn</label>
                        <textarea class="form-control" id="message" rows="5" placeholder="Nhập tin nhắn" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary px-4">Gửi</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Optional: Google Maps -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="ratio ratio-16x9">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.123456789!2d106.123456!3d10.123456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752xxxx:0xabcdef123456!2zMTIzIER1bmcgQUJDLCDhuqFpbiBUUC5ITkM!5e0!3m2!1sen!2s!4v1690000000000!5m2!1sen!2s"
                        style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        const contactForm = document.getElementById('contactForm');
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const data = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                message: document.getElementById('message').value
            };

            try {
                // Gửi AJAX tới controller (ví dụ /Home/ContactSubmit)
                let response = await fetch('/Home/ContactSubmit', {
                    method: 'POST',
                    headers: {'Content-Type':'application/json'},
                    body: JSON.stringify(data)
                });
                if(response.ok){
                    alert("Gửi tin nhắn thành công! Chúng tôi sẽ liên hệ bạn sớm.");
                    contactForm.reset();
                } else {
                    alert("Có lỗi xảy ra. Vui lòng thử lại sau.");
                }
            } catch(err){
                console.error(err);
                alert("Có lỗi xảy ra. Vui lòng thử lại sau.");
            }
        });
    </script>
}
